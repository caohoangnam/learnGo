package main

/*

for(i=1;i<=15;i++){
    9780135261651-UGP2_01_0{i}_00    
}


Url: https://learning.oreilly.com/api/v1/videoclips/{URL}/?format=json

9780135261651-UGP2_01_01_00
9780135261651-UGP2_01_01_01
9780135261651-UGP2_01_01_02
9780135261651-UGP2_01_01_03
9780135261651-UGP2_01_01_04

9780135261651-UGP2_01_02_00
9780135261651-UGP2_01_02_01
9780135261651-UGP2_01_02_02
9780135261651-UGP2_01_02_03_01
9780135261651-UGP2_01_02_03_02
9780135261651-UGP2_01_02_03_03
9780135261651-UGP2_01_02_03_04
9780135261651-UGP2_01_02_03_05
9780135261651-UGP2_01_02_04

9780135261651-UGP2_01_03_00
9780135261651-UGP2_01_03_01
9780135261651-UGP2_01_03_02
9780135261651-UGP2_01_03_03_01
9780135261651-UGP2_01_03_03_02
9780135261651-UGP2_01_03_03_03
9780135261651-UGP2_01_03_03_04
9780135261651-UGP2_01_03_03_05
9780135261651-UGP2_01_03_03_06
9780135261651-UGP2_01_03_04

9780135261651-UGP2_01_04_00
9780135261651-UGP2_01_04_01_01
9780135261651-UGP2_01_04_01_02
9780135261651-UGP2_01_04_01_03
9780135261651-UGP2_01_04_02_01
9780135261651-UGP2_01_04_02_02
9780135261651-UGP2_01_04_02_03
9780135261651-UGP2_01_04_03
9780135261651-UGP2_01_04_04

9780135261651-UGP2_01_05_00
9780135261651-UGP2_01_05_01
9780135261651-UGP2_01_05_02_01
9780135261651-UGP2_01_05_02_02
9780135261651-UGP2_01_05_02_03
9780135261651-UGP2_01_05_03
9780135261651-UGP2_01_05_04
9780135261651-UGP2_01_05_05
9780135261651-UGP2_01_05_06

9780135261651-UGP2_01_06_00
9780135261651-UGP2_01_06_01
9780135261651-UGP2_01_06_02
9780135261651-UGP2_01_06_03
9780135261651-UGP2_01_06_04
9780135261651-UGP2_01_06_05
9780135261651-UGP2_01_06_06

9780135261651-UGP2_01_07_00
9780135261651-UGP2_01_07_01
9780135261651-UGP2_01_07_02
9780135261651-UGP2_01_07_03

9780135261651-UGP2_01_08_00
9780135261651-UGP2_01_08_01
9780135261651-UGP2_01_08_02
9780135261651-UGP2_01_08_03

9780135261651-UGP2_01_09_00
9780135261651-UGP2_01_09_01
9780135261651-UGP2_01_09_02
9780135261651-UGP2_01_09_03
9780135261651-UGP2_01_09_04
9780135261651-UGP2_01_09_05
9780135261651-UGP2_01_09_06

9780135261651-UGP2_01_10_00
9780135261651-UGP2_01_10_01
9780135261651-UGP2_01_10_02_01
9780135261651-UGP2_01_10_02_02
9780135261651-UGP2_01_10_02_03
9780135261651-UGP2_01_10_03
9780135261651-UGP2_01_10_04_01
9780135261651-UGP2_01_10_04_02
9780135261651-UGP2_01_10_05
9780135261651-UGP2_01_10_06

9780135261651-UGP2_01_11_00
9780135261651-UGP2_01_11_01_01
9780135261651-UGP2_01_11_01_02
9780135261651-UGP2_01_11_02

9780135261651-UGP2_01_12_00
9780135261651-UGP2_01_12_01
9780135261651-UGP2_01_12_02
9780135261651-UGP2_01_12_03
9780135261651-UGP2_01_12_04
9780135261651-UGP2_01_12_05
9780135261651-UGP2_01_12_06
9780135261651-UGP2_01_12_07

9780135261651-UGP2_01_13_00
9780135261651-UGP2_01_13_01
9780135261651-UGP2_01_13_02
9780135261651-UGP2_01_13_03

9780135261651-UGP2_01_14_00
9780135261651-UGP2_01_14_01
9780135261651-UGP2_01_14_02
9780135261651-UGP2_01_14_03
9780135261651-UGP2_01_14_04_01
9780135261651-UGP2_01_14_00_02
9780135261651-UGP2_01_14_00_03
9780135261651-UGP2_01_14_00_04
9780135261651-UGP2_01_14_05


*/




import (
    "fmt"
    "net/http"
    "io/ioutil"
    "encoding/json"
    "os"
    )

type TimeVideo struct{
    End string
    Text string
    Begin string
}

type Lines struct {
    Lines []TimeVideo
}    

type Transcription struct {
    // Id string
    // MagpieIranscriptionId int
    // Videoclip string
    // Language string
    Transcription Lines
}    

type VideoOreilly struct {
    Id string
    // ReferenceId string
    // KalturaEntryId string
    // MagpieClipId int
    // VideoPlaylist string
    Transcriptions Transcription
    // WorkId int
    // ReferenceIdUrl string
    // ContentFormat string
    // Duration int
    // Description string
	Title string 
}

func main() {
    _: response, err := http.Get("https://learning.oreilly.com/api/v1/videoclips/9780135261651-UGP2_00_00_00/?format=json")
    if err != nil {
        fmt.Printf("%s", err)
        os.Exit(1)
    } else {
        defer response.Body.Close()
        contents, err := ioutil.ReadAll(response.Body)
        if err != nil {
            fmt.Printf("%s", err)
            os.Exit(1)
        }

        var videoOreilly VideoOreilly	
        json.Unmarshal([]byte(contents), &videoOreilly)

        fmt.Printf("%s\n", videoOreilly.Transcriptions)
    }
}
